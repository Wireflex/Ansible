# Ansible Galaxy
это официальный репозиторий для общедоступных ролей Ansible. Роли — это наборы задач, переменных и других файлов, которые можно использовать для автоматизации определенных задач или развертывания приложений.

# Ansible Collections
это более новая концепция, которая объединяет роли, модули, плагины и другие компоненты в единый пакет. Это позволяет организовывать и делиться более сложными наборами автоматизации. Коллекции могут содержать множество ролей и модулей, а также другие ресурсы.

## Установка и использование

### Загрузка коллекций с Ansible Galaxy

На Ansible Galaxy вы можете найти множество коллекций, опубликованных сообществом. Чтобы установить коллекцию, можно использовать поиск:
```
ansible-galaxy collection search <ключевое слово>
```
### Чтобы установить коллекцию, используйте команду:
```
ansible-galaxy collection install <имя_коллекции>
```

 Пример установки коллекции community.general:
```
ansible-galaxy collection install community.general
```

### Создание своей коллекции

Чтобы создать свою коллекцию, выполните команду:
```
ansible-galaxy collection init my_namespace.my_collection
```

Это создаст структуру каталогов для вашей коллекции.

## Структура коллекции

Структура коллекции будет выглядеть примерно так:

```
my_namespace/
└── my_collection/
    ├── README.md
    ├── galaxy.yml
    ├── plugins/
    │   ├── modules/
    │   └── roles/
    └── roles/
```
### Проверка установленных коллекций

Чтобы проверить, какие коллекции установлены, используйте команду:
```
ansible-galaxy collection list
```

### Обновление коллекции

Если вы хотите обновить установленную коллекцию до последней версии, используйте:
```
ansible-galaxy collection install community.general --force
```

### Удаление коллекции

Чтобы удалить коллекцию, используйте команду:
```
ansible-galaxy collection remove community.general
```


## Вот простой пример, как использовать установленную коллекцию:

1. Установка коллекции:
```
ansible-galaxy collection install <имя_коллекции>
```

2. Использование роли из коллекции:
```
---
- hosts: all
  become: true
  roles:
    - role: <имя_коллекции>.<имя_роли>
```

Пример:

Предположим, вы установили коллекцию `ansible.netcommon` с помощью команды:
```
ansible-galaxy collection install ansible.netcommon
```

Эта коллекция содержит роль `ansible.netcommon.network_setup`, которая настраивает сетевые настройки на удаленных хостах.

Чтобы использовать эту роль в своем плейбуке, напишите:
```
---
- hosts: all
  become: true
  roles:
    - role: ansible.netcommon.network_setup
```
